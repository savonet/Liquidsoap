<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Lifecycle (liquidsoap_core@8e9bf4542caf.Lifecycle)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.4"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">liquidsoap_core@8e9bf4542caf</a> &#x00BB; Lifecycle</nav><header class="odoc-preamble"><h1>Module <code><span>Lifecycle</span></code></h1><p>Module to expose and hook up actions that need to happen over the lifecycle of the application.</p></header><nav class="odoc-toc"><ul><li><a href="#initialization">Initialization</a><ul><li><a href="#init-start">Init start</a></li><li><a href="#script-parse">Script parse</a></li><li><a href="#application-start">Application start</a></li></ul></li><li><a href="#shutdown">Shutdown</a><ul><li><a href="#core-shutdown">Core shutdown</a></li><li><a href="#scheduler-shutdown">Scheduler shutdown</a></li><li><a href="#final-cleanup">Final cleanup</a></li></ul></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-on_load"><a href="#val-on_load" class="anchor"></a><code><span><span class="keyword">val</span> on_load : <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Initial load. Used for registering stuff that needs all OCaml modules to have been registered.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-load"><a href="#val-load" class="anchor"></a><code><span><span class="keyword">val</span> load : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><h2 id="initialization"><a href="#initialization" class="anchor"></a>Initialization</h2><p>Initialization proceeds in 3 phases:</p><ul><li>Init</li><li>Script parse</li><li>Application start</li></ul><h3 id="init-start"><a href="#init-start" class="anchor"></a>Init start</h3><div class="odoc-spec"><div class="spec value anchored" id="val-init"><a href="#val-init" class="anchor"></a><code><span><span class="keyword">val</span> init : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-before_init"><a href="#val-before_init" class="anchor"></a><code><span><span class="keyword">val</span> before_init : <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-on_init"><a href="#val-on_init" class="anchor"></a><code><span><span class="keyword">val</span> on_init : <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-after_init"><a href="#val-after_init" class="anchor"></a><code><span><span class="keyword">val</span> after_init : <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><h3 id="script-parse"><a href="#script-parse" class="anchor"></a>Script parse</h3><div class="odoc-spec"><div class="spec value anchored" id="val-before_script_parse"><a href="#val-before_script_parse" class="anchor"></a><code><span><span class="keyword">val</span> before_script_parse : <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-on_script_parse"><a href="#val-on_script_parse" class="anchor"></a><code><span><span class="keyword">val</span> on_script_parse : <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-after_script_parse"><a href="#val-after_script_parse" class="anchor"></a><code><span><span class="keyword">val</span> after_script_parse : <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><h3 id="application-start"><a href="#application-start" class="anchor"></a>Application start</h3><div class="odoc-spec"><div class="spec value anchored" id="val-before_start"><a href="#val-before_start" class="anchor"></a><code><span><span class="keyword">val</span> before_start : <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-on_start"><a href="#val-on_start" class="anchor"></a><code><span><span class="keyword">val</span> on_start : <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-after_start"><a href="#val-after_start" class="anchor"></a><code><span><span class="keyword">val</span> after_start : <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-before_main_loop"><a href="#val-before_main_loop" class="anchor"></a><code><span><span class="keyword">val</span> before_main_loop : <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Application main loop</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-on_main_loop"><a href="#val-on_main_loop" class="anchor"></a><code><span><span class="keyword">val</span> on_main_loop : <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-after_main_loop"><a href="#val-after_main_loop" class="anchor"></a><code><span><span class="keyword">val</span> after_main_loop : <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><h2 id="shutdown"><a href="#shutdown" class="anchor"></a>Shutdown</h2><p>Shutdown proceeds in 3 phases:</p><ul><li>Core shutdown</li><li>Scheduler shutdown</li><li>Final cleanup</li><li>Stop</li></ul><h3 id="core-shutdown"><a href="#core-shutdown" class="anchor"></a>Core shutdown</h3><div class="odoc-spec"><div class="spec value anchored" id="val-before_core_shutdown"><a href="#val-before_core_shutdown" class="anchor"></a><code><span><span class="keyword">val</span> before_core_shutdown : <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-on_core_shutdown"><a href="#val-on_core_shutdown" class="anchor"></a><code><span><span class="keyword">val</span> on_core_shutdown : <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-after_core_shutdown"><a href="#val-after_core_shutdown" class="anchor"></a><code><span><span class="keyword">val</span> after_core_shutdown : <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><h3 id="scheduler-shutdown"><a href="#scheduler-shutdown" class="anchor"></a>Scheduler shutdown</h3><div class="odoc-spec"><div class="spec value anchored" id="val-before_scheduler_shutdown"><a href="#val-before_scheduler_shutdown" class="anchor"></a><code><span><span class="keyword">val</span> before_scheduler_shutdown : <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-on_scheduler_shutdown"><a href="#val-on_scheduler_shutdown" class="anchor"></a><code><span><span class="keyword">val</span> on_scheduler_shutdown : <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-after_scheduler_shutdown"><a href="#val-after_scheduler_shutdown" class="anchor"></a><code><span><span class="keyword">val</span> after_scheduler_shutdown : <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><h3 id="final-cleanup"><a href="#final-cleanup" class="anchor"></a>Final cleanup</h3><div class="odoc-spec"><div class="spec value anchored" id="val-before_final_cleanup"><a href="#val-before_final_cleanup" class="anchor"></a><code><span><span class="keyword">val</span> before_final_cleanup : <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-on_final_cleanup"><a href="#val-on_final_cleanup" class="anchor"></a><code><span><span class="keyword">val</span> on_final_cleanup : <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-after_final_cleanup"><a href="#val-after_final_cleanup" class="anchor"></a><code><span><span class="keyword">val</span> after_final_cleanup : <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div></div></body></html>
