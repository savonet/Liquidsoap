<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Srt_io (liquidsoap_srt@8e9bf4542caf.Srt_io)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.4"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">liquidsoap_srt@8e9bf4542caf</a> &#x00BB; Srt_io</nav><header class="odoc-preamble"><h1>Module <code><span>Srt_io</span></code></h1><p>SRT input</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec exception anchored" id="exception-Done"><a href="#exception-Done" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Done</span></span></code></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Not_connected"><a href="#exception-Not_connected" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Not_connected</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-prefer_address"><a href="#type-prefer_address" class="anchor"></a><code><span><span class="keyword">type</span> prefer_address</span><span> = </span><span>[ </span></code><ol><li id="type-prefer_address.System_default" class="def variant constructor anchored"><a href="#type-prefer_address.System_default" class="anchor"></a><code><span>| </span><span>`System_default</span></code></li><li id="type-prefer_address.Ipv4" class="def variant constructor anchored"><a href="#type-prefer_address.Ipv4" class="anchor"></a><code><span>| </span><span>`Ipv4</span></code></li><li id="type-prefer_address.Ipv6" class="def variant constructor anchored"><a href="#type-prefer_address.Ipv6" class="anchor"></a><code><span>| </span><span>`Ipv6</span></code></li></ol><code><span> ]</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-socket_mode"><a href="#type-socket_mode" class="anchor"></a><code><span><span class="keyword">type</span> socket_mode</span><span> = </span><span>[ </span></code><ol><li id="type-socket_mode.Connect" class="def variant constructor anchored"><a href="#type-socket_mode.Connect" class="anchor"></a><code><span>| </span><span>`Connect</span></code></li><li id="type-socket_mode.Listen" class="def variant constructor anchored"><a href="#type-socket_mode.Listen" class="anchor"></a><code><span>| </span><span>`Listen</span></code></li><li id="type-socket_mode.Incoming" class="def variant constructor anchored"><a href="#type-socket_mode.Incoming" class="anchor"></a><code><span>| </span><span>`Incoming</span></code></li><li id="type-socket_mode.Close" class="def variant constructor anchored"><a href="#type-socket_mode.Close" class="anchor"></a><code><span>| </span><span>`Close</span></code></li></ol><code><span> ]</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-conf_srt"><a href="#val-conf_srt" class="anchor"></a><code><span><span class="keyword">val</span> conf_srt : <span class="xref-unresolved">Dtools</span>.Conf.ut</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-conf_prefer_address"><a href="#val-conf_prefer_address" class="anchor"></a><code><span><span class="keyword">val</span> conf_prefer_address : <span>string <span class="xref-unresolved">Dtools</span>.Conf.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-conf_log"><a href="#val-conf_log" class="anchor"></a><code><span><span class="keyword">val</span> conf_log : <span>bool <span class="xref-unresolved">Dtools</span>.Conf.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-conf_verbosity"><a href="#val-conf_verbosity" class="anchor"></a><code><span><span class="keyword">val</span> conf_verbosity : <span>string <span class="xref-unresolved">Dtools</span>.Conf.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-conf_level"><a href="#val-conf_level" class="anchor"></a><code><span><span class="keyword">val</span> conf_level : <span>int <span class="xref-unresolved">Dtools</span>.Conf.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-conf_poll"><a href="#val-conf_poll" class="anchor"></a><code><span><span class="keyword">val</span> conf_poll : <span class="xref-unresolved">Dtools</span>.Conf.ut</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-conf_timeout"><a href="#val-conf_timeout" class="anchor"></a><code><span><span class="keyword">val</span> conf_timeout : <span>float <span class="xref-unresolved">Dtools</span>.Conf.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-conf_enforced_encryption"><a href="#val-conf_enforced_encryption" class="anchor"></a><code><span><span class="keyword">val</span> conf_enforced_encryption : <span>bool <span class="xref-unresolved">Dtools</span>.Conf.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-getaddrinfo"><a href="#val-getaddrinfo" class="anchor"></a><code><span><span class="keyword">val</span> getaddrinfo : 
  <span><span class="label">log</span>:<a href="../../liquidsoap_core@8e9bf4542caf/Log/index.html#type-t">Log.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">prefer_address</span>:<span>[&lt; `Ipv4 <span>| `Ipv6</span> <span>| `System_default</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Posix_socket</span>.sockaddr <span class="xref-unresolved">Ctypes</span>.ptr</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-SyncSource"><a href="#module-SyncSource" class="anchor"></a><code><span><span class="keyword">module</span> <a href="SyncSource/index.html">SyncSource</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sync_source"><a href="#val-sync_source" class="anchor"></a><code><span><span class="keyword">val</span> sync_source : <a href="../../liquidsoap_core@8e9bf4542caf/Clock/index.html#type-sync_source">Clock.sync_source</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mode_of_value"><a href="#val-mode_of_value" class="anchor"></a><code><span><span class="keyword">val</span> mode_of_value : <span><a href="../../liquidsoap_core@8e9bf4542caf/Lang/index.html#type-value">Lang.value</a> <span class="arrow">&#45;&gt;</span></span> <span>[&gt; `Caller <span>| `Listener</span> ]</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_mode"><a href="#val-string_of_mode" class="anchor"></a><code><span><span class="keyword">val</span> string_of_mode : <span><span>[&lt; `Caller <span>| `Listener</span> ]</span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-common_options"><a href="#val-common_options" class="anchor"></a><code><span><span class="keyword">val</span> common_options : 
  <span><span class="label">mode</span>:<span>[&lt; `Caller <span>| `Listener</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(string * <a href="../../liquidsoap_core@8e9bf4542caf/Lang/index.html#type-t">Lang.t</a> * <span><a href="../../liquidsoap_core@8e9bf4542caf/Lang/index.html#type-value">Lang.value</a> option</span> * <span>string option</span>)</span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-meth"><a href="#val-meth" class="anchor"></a><code><span><span class="keyword">val</span> meth : 
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><span>(string
   * <span>(<span><span class="type-var">'a</span> list</span> * <a href="../../liquidsoap_core@8e9bf4542caf/Lang/index.html#type-t">Lang.t</a>)</span>
   * string
   * <span>(<span><span>&lt; get_sockets : <span><span>(<span class="xref-unresolved">Unix</span>.sockaddr * <a href="../Builtins_srt/Socket_value/index.html#type-content">Builtins_srt.Socket_value.content</a>)</span> list</span>.. &gt;</span> <span class="arrow">&#45;&gt;</span></span>
   <a href="../../liquidsoap_core@8e9bf4542caf/Lang/index.html#type-value">Lang.value</a>)</span>)</span>
    list</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-common_options"><a href="#type-common_options" class="anchor"></a><code><span><span class="keyword">type</span> common_options</span><span> = </span><span>{</span></code><ol><li id="type-common_options.mode" class="def record field anchored"><a href="#type-common_options.mode" class="anchor"></a><code><span>mode : <span>[ `Listener <span>| `Caller</span> ]</span>;</span></code></li><li id="type-common_options.hostname" class="def record field anchored"><a href="#type-common_options.hostname" class="anchor"></a><code><span>hostname : string;</span></code></li><li id="type-common_options.port" class="def record field anchored"><a href="#type-common_options.port" class="anchor"></a><code><span>port : int;</span></code></li><li id="type-common_options.bind_address" class="def record field anchored"><a href="#type-common_options.bind_address" class="anchor"></a><code><span>bind_address : string;</span></code></li><li id="type-common_options.prefer_address" class="def record field anchored"><a href="#type-common_options.prefer_address" class="anchor"></a><code><span>prefer_address : <span>[ `System_default <span>| `Ipv4</span> <span>| `Ipv6</span> ]</span>;</span></code></li><li id="type-common_options.on_socket" class="def record field anchored"><a href="#type-common_options.on_socket" class="anchor"></a><code><span>on_socket : <span><span class="label">mode</span>:<a href="#type-socket_mode">socket_mode</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Srt</span>.socket <span class="arrow">&#45;&gt;</span></span> unit;</span></code></li><li id="type-common_options.listen_callback" class="def record field anchored"><a href="#type-common_options.listen_callback" class="anchor"></a><code><span>listen_callback : <span><span class="xref-unresolved">Srt</span>.listen_callback option</span>;</span></code></li><li id="type-common_options.streamid" class="def record field anchored"><a href="#type-common_options.streamid" class="anchor"></a><code><span>streamid : <span>string option</span>;</span></code></li><li id="type-common_options.pbkeylen" class="def record field anchored"><a href="#type-common_options.pbkeylen" class="anchor"></a><code><span>pbkeylen : <span>int option</span>;</span></code></li><li id="type-common_options.enforced_encryption" class="def record field anchored"><a href="#type-common_options.enforced_encryption" class="anchor"></a><code><span>enforced_encryption : <span>bool option</span>;</span></code></li><li id="type-common_options.passphrase" class="def record field anchored"><a href="#type-common_options.passphrase" class="anchor"></a><code><span>passphrase : <span>string option</span>;</span></code></li><li id="type-common_options.polling_delay" class="def record field anchored"><a href="#type-common_options.polling_delay" class="anchor"></a><code><span>polling_delay : float;</span></code></li><li id="type-common_options.read_timeout" class="def record field anchored"><a href="#type-common_options.read_timeout" class="anchor"></a><code><span>read_timeout : <span>int option</span>;</span></code></li><li id="type-common_options.write_timeout" class="def record field anchored"><a href="#type-common_options.write_timeout" class="anchor"></a><code><span>write_timeout : <span>int option</span>;</span></code></li><li id="type-common_options.connection_timeout" class="def record field anchored"><a href="#type-common_options.connection_timeout" class="anchor"></a><code><span>connection_timeout : <span>int option</span>;</span></code></li><li id="type-common_options.payload_size" class="def record field anchored"><a href="#type-common_options.payload_size" class="anchor"></a><code><span>payload_size : int;</span></code></li><li id="type-common_options.messageapi" class="def record field anchored"><a href="#type-common_options.messageapi" class="anchor"></a><code><span>messageapi : bool;</span></code></li><li id="type-common_options.on_connect" class="def record field anchored"><a href="#type-common_options.on_connect" class="anchor"></a><code><span>on_connect : <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="xref-unresolved">Stdlib</span>.ref</span>;</span></code></li><li id="type-common_options.on_disconnect" class="def record field anchored"><a href="#type-common_options.on_disconnect" class="anchor"></a><code><span>on_disconnect : <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="xref-unresolved">Stdlib</span>.ref</span>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_common_options"><a href="#val-parse_common_options" class="anchor"></a><code><span><span class="keyword">val</span> parse_common_options : <span><span><span>(string * <a href="../../liquidsoap_core@8e9bf4542caf/Lang/index.html#type-value">Lang.value</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-common_options">common_options</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-log"><a href="#val-log" class="anchor"></a><code><span><span class="keyword">val</span> log : <a href="../../liquidsoap_core@8e9bf4542caf/Log/index.html#type-t">Log.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-log_handler"><a href="#val-log_handler" class="anchor"></a><code><span><span class="keyword">val</span> log_handler : <span><span class="xref-unresolved">Srt</span>.Log.msg <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Poll"><a href="#module-Poll" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Poll/index.html">Poll</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Common polling task for all srt input/output. * sockets entering a poll are always set to non-blocking * and set back to blocking when exiting. They are also always * removed from the poll when done.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-init"><a href="#val-init" class="anchor"></a><code><span><span class="keyword">val</span> init : <span>unit lazy_t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_address"><a href="#val-string_of_address" class="anchor"></a><code><span><span class="keyword">val</span> string_of_address : <span><span class="xref-unresolved">Unix</span>.sockaddr <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mk_socket"><a href="#val-mk_socket" class="anchor"></a><code><span><span class="keyword">val</span> mk_socket : 
  <span><span class="label">mode</span>:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">on_socket</span>:<span>(<span><span class="label">mode</span>:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Srt</span>.socket <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">payload_size</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">messageapi</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span class="xref-unresolved">Srt</span>.socket</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-close_socket"><a href="#val-close_socket" class="anchor"></a><code><span><span class="keyword">val</span> close_socket : 
  <span><span class="label">on_socket</span>:<span>(<span><span class="label">mode</span>:<span>[&gt; `Close ]</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Srt</span>.socket <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Srt</span>.socket <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-shutdown"><a href="#val-shutdown" class="anchor"></a><code><span><span class="keyword">val</span> shutdown : <span>bool <span class="xref-unresolved">Stdlib</span>.Atomic.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-id"><a href="#val-id" class="anchor"></a><code><span><span class="keyword">val</span> id : <span>unit <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-base"><a href="#class-base" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> </span><span><a href="class-base/index.html">base</a></span><span> : <span>unit <span class="arrow">&#45;&gt;</span></span> <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-networking_agent"><a href="#class-networking_agent" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> </span><span><a href="class-networking_agent/index.html">networking_agent</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-input_networking_agent"><a href="#class-input_networking_agent" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> </span><span><a href="class-input_networking_agent/index.html">input_networking_agent</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-output_networking_agent"><a href="#class-output_networking_agent" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> </span><span><a href="class-output_networking_agent/index.html">output_networking_agent</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-ToDisconnect"><a href="#module-ToDisconnect" class="anchor"></a><code><span><span class="keyword">module</span> <a href="ToDisconnect/index.html">ToDisconnect</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_disconnect"><a href="#val-to_disconnect" class="anchor"></a><code><span><span class="keyword">val</span> to_disconnect : <a href="ToDisconnect/index.html#type-t">ToDisconnect.t</a></span></code></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-caller"><a href="#class-caller" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> </span><span><a href="class-caller/index.html">caller</a></span><span> : <span><span class="label">enforced_encryption</span>:<span>bool option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">pbkeylen</span>:<span>int option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">passphrase</span>:
  <span>string
    option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">streamid</span>:<span>string option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">polling_delay</span>:float <span class="arrow">&#45;&gt;</span></span> <span><span class="label">payload_size</span>:
  int <span class="arrow">&#45;&gt;</span></span> <span><span class="label">messageapi</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_socket</span>:<span>(<span><span class="label">mode</span>:<span>[&gt; `Close <span>| `Connect</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Srt</span>.socket <span class="arrow">&#45;&gt;</span></span>
  unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">hostname</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span class="label">port</span>:int <span class="arrow">&#45;&gt;</span></span> <span><span class="label">prefer_address</span>:<span>[&lt; `Ipv4
                                                         <span>| `Ipv6</span>
                                                         <span>| `System_default</span> ]</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">connection_timeout</span>:
  <span>int
    option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">read_timeout</span>:<span>int option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">write_timeout</span>:<span>int option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_connect</span>:
  <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span>
    unit)</span>
    <span class="xref-unresolved">Stdlib</span>.ref</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_disconnect</span>:<span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="xref-unresolved">Stdlib</span>.ref</span> <span class="arrow">&#45;&gt;</span></span> <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-listener"><a href="#class-listener" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> </span><span><a href="class-listener/index.html">listener</a></span><span> : <span><span class="label">enforced_encryption</span>:<span>bool option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">pbkeylen</span>:<span>int option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">passphrase</span>:
  <span>string
    option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">max_clients</span>:<span>int option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">listen_callback</span>:<span><span class="xref-unresolved">Srt</span>.listen_callback
                                                          option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">payload_size</span>:
  int <span class="arrow">&#45;&gt;</span></span> <span><span class="label">messageapi</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">bind_address</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span class="label">port</span>:int <span class="arrow">&#45;&gt;</span></span> <span><span class="label">prefer_address</span>:
  <span>[&lt; `Ipv4
  <span>| `Ipv6</span>
  <span>| `System_default</span> ]</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_socket</span>:<span>(<span><span class="label">mode</span>:<span>[&gt; `Close <span>| `Incoming</span> <span>| `Listen</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Srt</span>.socket <span class="arrow">&#45;&gt;</span></span>
  unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">read_timeout</span>:<span>int option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">write_timeout</span>:<span>int option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_connect</span>:
  <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span>
    unit)</span>
    <span class="xref-unresolved">Stdlib</span>.ref</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_disconnect</span>:<span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="xref-unresolved">Stdlib</span>.ref</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-input_base"><a href="#class-input_base" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> </span><span><a href="class-input_base/index.html">input_base</a></span><span> : <span><span class="label">max</span>:float <span class="arrow">&#45;&gt;</span></span> <span><span class="label">self_sync</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_connect</span>:<span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="xref-unresolved">Stdlib</span>.ref</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_disconnect</span>:
  <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span>
    <span class="type-var">'c</span>)</span>
    <span class="xref-unresolved">Stdlib</span>.ref</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">payload_size</span>:int <span class="arrow">&#45;&gt;</span></span> <span><span class="label">dump</span>:<span>string option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_start</span>:<span>(<span>
  unit <span class="arrow">&#45;&gt;</span></span>
  unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_stop</span>:<span>(<span>unit <span class="arrow">&#45;&gt;</span></span>
  unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">autostart</span>:bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-input_listener"><a href="#class-input_listener" class="anchor"></a><code><span><span class="keyword">class</span> </span><span><a href="class-input_listener/index.html">input_listener</a></span><span> : <span><span class="label">enforced_encryption</span>:<span>bool option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">pbkeylen</span>:<span>int option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">passphrase</span>:
  <span>string
    option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">listen_callback</span>:<span><span class="xref-unresolved">Srt</span>.listen_callback option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">bind_address</span>:
  string <span class="arrow">&#45;&gt;</span></span> <span><span class="label">port</span>:int <span class="arrow">&#45;&gt;</span></span> <span><span class="label">prefer_address</span>:<span>[&lt; `Ipv4 <span>| `Ipv6</span> <span>| `System_default</span> ]</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_socket</span>:<span>(<span>
  <span class="label">mode</span>:
    <span>[&gt; `Close <span>| `Incoming</span> <span>| `Listen</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Srt</span>.socket <span class="arrow">&#45;&gt;</span></span>
  unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">max</span>:float <span class="arrow">&#45;&gt;</span></span> <span><span class="label">payload_size</span>:int <span class="arrow">&#45;&gt;</span></span> <span><span class="label">self_sync</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_connect</span>:
  <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span>
    unit)</span>
    <span class="xref-unresolved">Stdlib</span>.ref</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_disconnect</span>:<span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="xref-unresolved">Stdlib</span>.ref</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">read_timeout</span>:
  <span>int
    option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">write_timeout</span>:<span>int option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">messageapi</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">dump</span>:<span>string option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_start</span>:<span>(<span>
  unit <span class="arrow">&#45;&gt;</span></span>
  unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_stop</span>:<span>(<span>unit <span class="arrow">&#45;&gt;</span></span>
  unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">autostart</span>:bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-input_caller"><a href="#class-input_caller" class="anchor"></a><code><span><span class="keyword">class</span> </span><span><a href="class-input_caller/index.html">input_caller</a></span><span> : <span><span class="label">enforced_encryption</span>:<span>bool option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">pbkeylen</span>:<span>int option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">passphrase</span>:
  <span>string
    option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">streamid</span>:<span>string option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">polling_delay</span>:float <span class="arrow">&#45;&gt;</span></span> <span><span class="label">hostname</span>:
  string <span class="arrow">&#45;&gt;</span></span> <span><span class="label">port</span>:int <span class="arrow">&#45;&gt;</span></span> <span><span class="label">prefer_address</span>:<span>[&lt; `Ipv4 <span>| `Ipv6</span> <span>| `System_default</span> ]</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">max</span>:
  float <span class="arrow">&#45;&gt;</span></span> <span><span class="label">payload_size</span>:int <span class="arrow">&#45;&gt;</span></span> <span><span class="label">self_sync</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_connect</span>:<span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span>
                                                              unit)</span>
                                                              <span class="xref-unresolved">Stdlib</span>.ref</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_disconnect</span>:
  <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span>
    unit)</span>
    <span class="xref-unresolved">Stdlib</span>.ref</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">read_timeout</span>:<span>int option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">write_timeout</span>:<span>int option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">connection_timeout</span>:
  <span>int
    option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">messageapi</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">dump</span>:<span>string option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_socket</span>:<span>(<span><span class="label">mode</span>:
                                                                    <span>[&gt; 
                                                                    `Close
                                                                    <span>| `Connect</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Srt</span>.socket <span class="arrow">&#45;&gt;</span></span>
  unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_start</span>:<span>(<span>unit <span class="arrow">&#45;&gt;</span></span>
  unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_stop</span>:<span>(<span>unit <span class="arrow">&#45;&gt;</span></span>
  unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">autostart</span>:bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-output_base"><a href="#class-output_base" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> </span><span><a href="class-output_base/index.html">output_base</a></span><span> : <span><span class="label">payload_size</span>:int <span class="arrow">&#45;&gt;</span></span> <span><span class="label">messageapi</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_start</span>:<span>(<span>unit <span class="arrow">&#45;&gt;</span></span>
  unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_stop</span>:<span>(<span>unit <span class="arrow">&#45;&gt;</span></span>
  unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">infallible</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">register_telnet</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">autostart</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_disconnect</span>:
  <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span>
    <span class="type-var">'b</span>)</span>
    <span class="xref-unresolved">Stdlib</span>.ref</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">encoder_factory</span>:<span>(<span>string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../liquidsoap_core@8e9bf4542caf/Frame/Metadata/Export/index.html#type-t">Frame.Metadata.Export.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../liquidsoap_core@8e9bf4542caf/Encoder/index.html#type-encoder">Encoder.encoder</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../liquidsoap_core@8e9bf4542caf/Lang/index.html#type-value">Lang.value</a> <span class="arrow">&#45;&gt;</span></span> <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-output_caller"><a href="#class-output_caller" class="anchor"></a><code><span><span class="keyword">class</span> </span><span><a href="class-output_caller/index.html">output_caller</a></span><span> : <span><span class="label">enforced_encryption</span>:<span>bool option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">pbkeylen</span>:<span>int option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">passphrase</span>:
  <span>string
    option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">streamid</span>:<span>string option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">polling_delay</span>:float <span class="arrow">&#45;&gt;</span></span> <span><span class="label">payload_size</span>:
  int <span class="arrow">&#45;&gt;</span></span> <span><span class="label">messageapi</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_start</span>:<span>(<span>unit <span class="arrow">&#45;&gt;</span></span>
  unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_stop</span>:<span>(<span>unit <span class="arrow">&#45;&gt;</span></span>
  unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">infallible</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">register_telnet</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">autostart</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_socket</span>:<span>(<span>
  <span class="label">mode</span>:
    <span>[&gt; `Close <span>| `Connect</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Srt</span>.socket <span class="arrow">&#45;&gt;</span></span>
  unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_connect</span>:<span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="xref-unresolved">Stdlib</span>.ref</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_disconnect</span>:<span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span>
                                                                   unit)</span>
                                                                   <span class="xref-unresolved">Stdlib</span>.ref</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">prefer_address</span>:
  <span>[&lt; `Ipv4
  <span>| `Ipv6</span>
  <span>| `System_default</span> ]</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">port</span>:int <span class="arrow">&#45;&gt;</span></span> <span><span class="label">hostname</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span class="label">read_timeout</span>:
  <span>int option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">write_timeout</span>:<span>int option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">connection_timeout</span>:<span>int option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">encoder_factory</span>:<span>(<span>
  string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../liquidsoap_core@8e9bf4542caf/Frame/Metadata/Export/index.html#type-t">Frame.Metadata.Export.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../liquidsoap_core@8e9bf4542caf/Encoder/index.html#type-encoder">Encoder.encoder</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../liquidsoap_core@8e9bf4542caf/Lang/index.html#type-value">Lang.value</a> <span class="arrow">&#45;&gt;</span></span> <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class anchored" id="class-output_listener"><a href="#class-output_listener" class="anchor"></a><code><span><span class="keyword">class</span> </span><span><a href="class-output_listener/index.html">output_listener</a></span><span> : <span><span class="label">enforced_encryption</span>:<span>bool option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">pbkeylen</span>:<span>int option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">passphrase</span>:
  <span>string
    option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">listen_callback</span>:<span><span class="xref-unresolved">Srt</span>.listen_callback option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">max_clients</span>:
  <span>int
    option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">payload_size</span>:int <span class="arrow">&#45;&gt;</span></span> <span><span class="label">messageapi</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_start</span>:<span>(<span>unit <span class="arrow">&#45;&gt;</span></span>
  unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_stop</span>:<span>(<span>unit <span class="arrow">&#45;&gt;</span></span>
  unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">infallible</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">register_telnet</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">autostart</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_connect</span>:
  <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span>
    unit)</span>
    <span class="xref-unresolved">Stdlib</span>.ref</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_disconnect</span>:<span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="xref-unresolved">Stdlib</span>.ref</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">bind_address</span>:
  string <span class="arrow">&#45;&gt;</span></span> <span><span class="label">port</span>:int <span class="arrow">&#45;&gt;</span></span> <span><span class="label">prefer_address</span>:<span>[&lt; `Ipv4 <span>| `Ipv6</span> <span>| `System_default</span> ]</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">on_socket</span>:<span>(<span>
  <span class="label">mode</span>:
    <span>[&gt; `Close <span>| `Incoming</span> <span>| `Listen</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Srt</span>.socket <span class="arrow">&#45;&gt;</span></span>
  unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">read_timeout</span>:<span>int option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">write_timeout</span>:<span>int option</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">encoder_factory</span>:<span>(<span>
  string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../liquidsoap_core@8e9bf4542caf/Frame/Metadata/Export/index.html#type-t">Frame.Metadata.Export.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../liquidsoap_core@8e9bf4542caf/Encoder/index.html#type-encoder">Encoder.encoder</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../liquidsoap_core@8e9bf4542caf/Lang/index.html#type-value">Lang.value</a> <span class="arrow">&#45;&gt;</span></span> <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div></div></body></html>
